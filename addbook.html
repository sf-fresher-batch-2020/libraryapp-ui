<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <!-- <meta http-equiv="X-UA-Compatible" content="ie=edge">-->
  <title>addbook</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"       crossorigin="anonymous">

    <!-- jQuery and JS bundle w/ Popper.js -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"        
        crossorigin="anonymous"></script>

  <link rel="stylesheet" href="assets/index.css">
  <link rel="stylesheet" href="assets/style.css">
 <script src="modules/addbookservice.js"></script>
</head>

<body>
  <header id="header">
    <!--header-->
  </header>
  <div class="login_main">
    <div class="login_form">
        <div class="card text-center">
        <div class="card-header">
      <h1>ADD BOOK</h1>
        </div>
        <div class="card-body">
      <form action="" method="POST">
    <label>Book title :</label><input type="text" name="title" id="title" required><br>
    <label>Author of book :</label><input type="text" name="author" id="author"  required ><br>
    <label>Publisher :</label><input type="text" name="publisher" id="publisher" required><br>
    <label>Book Id:</label><input type="number" name="bookid" id="bookid" required><br>
    <label>Category :</label><select id="category" name="category">
        <option value="">--PLEASE SELECT --</option>
                    <option value="eng">Literature</option>
                    <option value="cse">Computer science</option>
                    <option value="ece">Electronics and communications</option>
                    <option value="it">Information technology</option>
                    <option value="che">Chemical science</option>
    </select>
    <label>Upload image of book :</label><input type="file" value="upload" id="upload"></br>
    
       
        <button onclick="addbook()">Add Book</button><br>

        <a href="booklist.html" style="text-decoration: underline;">view booklist</a>
      </form>
      
        </div>
    </div>
    </div>
  </div>
  
  <script>
    $("#header").load("components/_header.html");
    function addbook()
       {
           event.preventDefault();
           var booktitle=document.getElementById("title").value;
           var author=document.getElementById("author").value;
           var publisher=document.getElementById("publisher").value;
           var bookid=document.getElementById("bookid").value;
           var category=document.getElementById("category").value;
           var img = document.getElementById("upload").value;   
           
        
            
     var bookObj={ "title":booktitle, "author":author, "publisher":publisher, "bookid":bookid, "category":category, "book_image" :img };
     console.log(bookObj);
      var addBookserviceObj= new AddBookService();
      let result= addBookserviceObj.addbook(bookObj);
      if (result=="success"){
       alert("book added");
   // window.location.href="booklist.html"; 
  
      }
      else{
          alert("book adding failed");
      }
       
       }
       
</script>
</body>

</html>